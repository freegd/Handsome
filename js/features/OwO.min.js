var _createClass=function(){function g(d,a){for(var c=0;c<a.length;c++){var b=a[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,a,c){a&&g(d.prototype,a);c&&g(d,c);return d}}();function _classCallCheck(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function");}
(function(){var g=function(){function d(a){var c=this;_classCallCheck(this,d);var b={logo:"OwO\u8868\u60c5",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByTagName("textarea")[0],position:"down",width:"100%",maxHeight:"235px",api:"https://api.anotherhome.net/OwO/OwO.json"},e;for(e in b)b.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&(a[e]=b[e]);this.container=a.container;this.target=a.target;"up"===a.position&&this.container.classList.add("OwO-up");var f=new XMLHttpRequest;
    f.onreadystatechange=function(){4===f.readyState&&(200<=f.status&&300>f.status||304===f.status?(c.odata=JSON.parse(f.responseText),c.init(a)):console.log("OwO data request was unsuccessful: "+f.status))};f.open("get",a.api,!0);f.send(null)}_createClass(d,[{key:"init",value:function(a){var c=this;this.area=a.target;this.packages=Object.keys(this.odata);for(var b='\n            <div class="OwO-logo"><i class="fa fa-emo-tongue face"></i><span class="OwOlogotext">'+a.logo+'</span></div>\n            <div class="OwO-body" style="width: '+
        a.width+'"><div class="OwO-title"><span>OwO</span></div>',e=0;e<this.packages.length;e++){b+='\n                <ul class="OwO-items OwO-'+this.odata[this.packages[e]].name+" OwO-items-"+this.odata[this.packages[e]].type+'" style="max-height: '+(parseInt(a.maxHeight)-53+"px")+';">';for(var f=this.odata[this.packages[e]].container,d=0;d<f.length;d++)b="image"===this.odata[this.packages[e]].type?b+('\n                    <li class="OwO-item" title="'+f[d].text+'" data-input="'+this.odata[this.packages[e]].name+
        ":"+f[d].icon+'"><img data-src="'+LocalConst.BASE_SCRIPT_URL+"usr/img/emotion/"+this.odata[this.packages[e]].name+"/"+f[d].icon+'.png" icon="'+f[d].text+'"></li>'):b+('\n                    <li class="OwO-item" title="'+f[d].text+'">'+f[d].icon+"</li>");b+="\n                </ul>"}b+='\n                <div class="OwO-bar">\n                    <ul class="OwO-packages">';for(a=0;a<this.packages.length;a++)b+="\n                        <li><span>"+this.packages[a]+"</span></li>";this.container.innerHTML=
        b+"\n                    </ul>\n                </div>\n            </div>\n            ";this.logo=this.container.getElementsByClassName("OwO-logo")[0];this.logo.addEventListener("click",function(){c.toggle()});this.container.getElementsByClassName("OwO-body")[0].addEventListener("click",function(a){var b=null;a.target.classList.contains("OwO-item")?b=a.target:a.target.parentNode.classList.contains("OwO-item")&&(b=a.target.parentNode);if(b){a=c.area.selectionStart;var d=c.area.selectionEnd,e=c.area.value;
        b=b.dataset.hasOwnProperty("input")?" ::"+b.dataset.input+":: ":b.innerHTML;c.area.value=e.slice(0,a)+b+e.slice(d);c.area.selectionStart=a+b.length;c.area.selectionEnd=a+b.length;c.area.focus();c.toggle()}});this.packagesEle=this.container.getElementsByClassName("OwO-packages")[0];b=function(a){(function(b){c.packagesEle.children[a].addEventListener("click",function(){c.tab(b)})})(a)};for(a=0;a<this.packagesEle.children.length;a++)b(a);this.tab(0)}},{key:"toggle",value:function(){this.container.classList.contains("OwO-open")?
        this.container.classList.remove("OwO-open"):this.container.classList.add("OwO-open")}},{key:"tab",value:function(a){var c=this.container.getElementsByClassName("OwO-items-show")[0];c&&c.classList.remove("OwO-items-show");this.container.getElementsByClassName("OwO-items")[a].classList.add("OwO-items-show");(c=this.container.getElementsByClassName("OwO-package-active")[0])&&c.classList.remove("OwO-package-active");this.packagesEle.getElementsByTagName("li")[a].classList.add("OwO-package-active");this.container.classList.contains("OwO-open")&&
    (a=this.container.querySelectorAll(".OwO-items.OwO-items-show>li img"),[].forEach.call(a,function(a){var b=a.dataset.src;b&&(a.src=b,a.removeAttribute("data-src"))}))}}]);return d}();"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=g:window.OwO=g})();